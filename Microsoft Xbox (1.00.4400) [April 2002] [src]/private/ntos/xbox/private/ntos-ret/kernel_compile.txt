Directory Structure
-------------------

\xbox\public\
             |
             ---public.rar

\xbox\public\xdk\lib-aug01\
                           |
                           ----xgraphics.lib

\xbox\private\
              |
              ----ntos-ret.rar
              |
              ----lib.rar
              |
              ----inc.rar
              |
              ----idw.rar

\xbox\private\ntos\
                   |
                   ----makekrnl.bat
                   |
                   ----linkmap.txt
                   


makekrnl.bat
------------

	This file is to be run from \xbox\private\ntos\ dir.  Will build xboxkrnl.exe
	and will be placed in \xbox\private\ntos\obj\

linkmap.txt
-----------
	This file is to be placed in \xbox\private\ntos\
	makekrnl.bat uses it.


This should be enough to compile using the pre made .obj files.

Now to re-compile a .c/.cpp file

I have been creating batch files for each lib

which consists of 3 files.  makeobj.bat makelib.bat and {lib name}libmap.txt

{lib name}libmap.txt
--------------------
	This is like linkmap.txt for the kernel, it can be generated by looking at the build.log
	and gathering the lines underneath the lib command.   Then editing the references
	to the files.

makeobj.bat
-----------
	Has to be placed in the dir with the makefile.  For instance for ani2 it goes in
	\ntos\ani2\lib For dir's like ldrx and idex it goes into \ntos\ldrx\console\ and
        \ntos\idex\console

	To use it, say you were in \ntos\idex\console and you want to recompile cdrom.obj
	and idex.obj (so you can remake idexcon.lib)

	you would type 'makeobj cdrom' then 'makeobj idex' (that would reproduce the .obj files)
	
	(then you would do makelib and it would make a new idexcon.lib, then makekrnl to produce
	a new xboxkrnl.exe)

makelib.bat
-----------
	same directory as makeobj.bat.  To create one find the .lib file create command in
	build.log and reference the file {lib name}libmap.txt instead of the c:\winnt\temp crap

	after you have your .obj files, in the same dir as your makelib, type 'makelib'.

	

some stuff has been hardcoded in the makeobj.bat's and makelib.bat's you will need to fix them


For retail, I used the 2bl and extra from evox 2.5 retail, retail key, and the kernel works fine...


-#####